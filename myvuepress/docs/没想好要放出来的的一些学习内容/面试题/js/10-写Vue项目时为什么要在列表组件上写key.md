<!--
 * @Description: In User Settings Edit
 * @Author:sunxiaofan 
 * @Date: 2019-08-21 20:43:14
 * @LastEditTime: 2019-08-21 20:49:04
 * @LastEditors: Please set LastEditors
 -->
# 写Vue项目时为什么要在列表组件上写key
1. 没有key的默认模式 可以使得diff速度提高，也能更好地复用节点
2. 但是没有key的默认模式不会产生过渡效果，在某些节点有绑定数据（状态）会出现状态错位。（如表格中新增的一行，如果嵌套一个组件，这个控件的初始化方法不会运行）
3. vue和react都是采用diff算法来对比新旧虚拟节点，从而更新节点。在vue的diff函数中（建议先了解一下diff算法过程）。
在交叉对比中，当新节点跟旧节点头尾交叉对比没有结果时，会根据新节点的key去对比旧节点数组中的key，从而找到相应旧节点（这里对应的是一个key => index 的map映射）。如果没找到就认为是一个新增节点。而如果没有key，那么就会采用遍历查找的方式去找到对应的旧节点。一种一个map映射，另一种是遍历查找。相比而言。map映射的速度更快。